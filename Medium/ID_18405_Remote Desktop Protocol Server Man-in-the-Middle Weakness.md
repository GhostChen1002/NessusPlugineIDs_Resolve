# æ¼æ´æ¦‚è¦

å¯ä»¥ Access to the Remote Hostã€‚


---

# æ¼æ´æ•˜è¿°

> CVE : CVE-2005-1794

Remote Desktop Protocol Server(Terminal Service) çš„é ç«¯ç‰ˆæœ¬å®¹æ˜“å—åˆ° Man-in-The-Middle(MiTM) Attackã€‚RDP Client åœ¨è¨­ç½®åŠ å¯†æ™‚ä¸æœƒé©—è­‰ Server çš„èº«åˆ†ã€‚

èƒ½å¤ æ””æˆªä¾†è‡ª RDP Server æµé‡çš„æ”»æ“Šè€…å¯ä»¥åœ¨ä¸è¢«ç™¼ç¾çš„æƒ…æ³ä¸‹èˆ‡ Client å’Œ Server å»ºç«‹åŠ å¯†ã€‚é€™ç¨®æ€§è³ªçš„ MiTM Attack å…è¨±æ”»æ“Šè€…ç²å–å‚³è¼¸çš„ä»»ä½•æ•æ„Ÿè³‡è¨Šï¼ŒåŒ…æ‹¬èº«åˆ†é©—è­‰æ†‘æ“š(Authentication Credentials)ã€‚

å­˜åœ¨æ­¤ç¼ºé™·æ˜¯å› ç‚º RDP Server å­˜å„²äº†ä¸€å€‹å…¬é–‹çš„ Hard-Coded(ç¡¬ç·¨ç¢¼) RSA Pricate Keyã€‚ç‰¹æ¬Šç¶²è·¯ä½ç½®ä¸­çš„ä»»ä½•æ”»æ“Šè€…å¯ä»¥ä½¿ç”¨è©²å¯†ç¢¼é€²è¡Œæ­¤æ”»æ“Šã€‚

> ğŸ’¡Hard Code/Hard Coding(ç¡¬ç·¨ç¢¼/å¯«æ­») : æ˜¯æŒ‡åœ¨è»Ÿé«”å¯¦ä½œä¸Šï¼Œå°‡è¼¸å‡ºæˆ–è¼¸å…¥çš„ç›¸é—œåƒæ•¸ï¼ˆä¾‹å¦‚ï¼šè·¯å¾‘ã€è¼¸å‡ºçš„å½¢å¼æˆ–æ ¼å¼ï¼‰ç›´æ¥ä»¥å¸¸æ•¸çš„æ–¹å¼æ’°å¯«åœ¨åŸå§‹ç¢¼ä¸­ï¼Œè€Œéåœ¨åŸ·è¡ŒæœŸé–“ç”±å¤–ç•ŒæŒ‡å®šçš„è¨­å®šã€è³‡æºã€è³‡æ–™æˆ–æ ¼å¼åšå‡ºé©ç•¶å›æ‡‰ã€‚ä¸€èˆ¬è¢«èªå®šæ˜¯ç¨®åæ¨¡å¼æˆ–ä¸å®Œç¾çš„å¯¦ä½œï¼Œå› ç‚ºè»Ÿé«”å—åˆ°è¼¸å…¥è³‡æ–™æˆ–è¼¸å‡ºæ ¼å¼çš„æ”¹è®Šå°±å¿…é ˆä¿®æ”¹åŸå§‹ç¢¼ï¼Œå°å®¢æˆ¶è€Œè¨€ï¼Œæ”¹è®ŠåŸå§‹ç¢¼ä¹‹å¤–çš„å°è¨­å®šä¹Ÿè¨±é‚„æ¯”è¼ƒå®¹æ˜“ã€‚
>
> ä½†å¯«æ­»çš„ç‹€æ³ä¹Ÿä¸¦éå®Œå…¨åªæœ‰ç¼ºé™·ï¼Œå› æŸäº›å°è£éœ€è¦æˆ–è»Ÿé«”æœ¬èº«çš„ä¿è­·æªæ–½ï¼Œæœ‰æ™‚æ˜¯å¿…è¦çš„æ‰‹æ®µã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæœ‰æ™‚å€™å› æ‡‰æŸäº›ç‰¹æ®Šçš„éœ€æ±‚ï¼Œè£½ä½œå‡ºç°¡å–®çš„æ‡‰ç”¨ç¨‹å¼ï¼Œæ‡‰ç”¨ç¨‹å¼å¯èƒ½åªæœƒåŸ·è¡Œä¸€æ¬¡æˆ–è€…æœ‰é™çš„å¹¾æ¬¡ï¼ŒæŠ‘æˆ–æ°¸é åªæ‡‰ä»˜æŸç¨®å–®ä¸€éœ€æ±‚ï¼Œåˆ©ç”¨å¯«æ­»ä¾†ç¸®çŸ­é–‹ç™¼çš„æ™‚é–“ä¹Ÿæ˜¯ä¸€ç¨®ä¸éŒ¯çš„æ±ºç­–ã€‚


---

# ä¿®è£œæ–¹å¼

1. å¦‚æœæ”¯æ´ï¼Œå‰‡å¼·åˆ¶ä½¿ç”¨ SSL ä½œç‚ºæœå‹™çš„ Transport Layerã€‚
2. åœ¨ Microsoft Windows OS ä¸Šï¼Œç³»çµ± -> é€²éšç³»çµ±è¨­å®š -> é ç«¯ -> é¸æ“‡è¨­ç½® "Allow connections only from computers running Remote Desktop with Network Level Authentication(åƒ…å…è¨±ä¾†è‡ªåŸ·è¡Œå«æœ‰ç¶²è·¯å±¤ç´šé©—è­‰ä¹‹é ç«¯å˜¬é¢çš„é›»è…¦é€²è¡Œé€£ç·š)"ã€‚


---
